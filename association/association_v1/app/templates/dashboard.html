{% extends 'base.html' %}

{% block content %}
<h1>Admin Dashboard</h1>
<h2>Create Report</h2>
<form method="post" action="{{ url_for('admin.create_report') }}">
    <div>
        <label for="title">Title</label>
        <input type="text" id="title" name="title">
    </div>
    <div>
        <label for="date">Date</label>
        <input type="date" id="date" name="date">
    </div>
    <div>
        <label for="content">Content</label>
        <textarea id="content" name="content"></textarea>
    </div>
    <button type="submit">Create Report</button>
</form>

<h2>Existing Reports</h2>
<ul>
    {% for report in reports %}
    <li>
        <strong>{{ report.title }}</strong> - {{ report.date }}<br>
        {{ report.content }}<br>
        <form method="post" action="{{ url_for('admin.update_report', report_id=report.id) }}">
            <input type="hidden" name="title" value="{{ report.title }}">
            <input type="hidden" name="date" value="{{ report.date }}">
            <input type="hidden" name="content" value="{{ report.content }}">
            <button type="submit">Update</button>
        </form>
        <form method="post" action="{{ url_for('admin.delete_report', report_id=report.id) }}">
            <button type="submit">Delete</button>
        </form>
    </li>
    {% endfor %}
</ul>
{% endblock %}

